
<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title>紫微斗数占い</title>

<style>
body {
  font-family: "Hiragino Mincho ProN", serif;
  background: linear-gradient(135deg, #f8f5f0, #ece5d8);
  padding: 40px;
  margin: 0;
}

.container {
  max-width: 600px;
  margin: 40px auto;
  background: #ffffff;
  padding: 40px;
  border: 1px solid #d4c6a1;
  box-shadow: 0 8px 25px rgba(0,0,0,0.08);
}

h2 {
  text-align: center;
  font-size: 28px;
  letter-spacing: 5px;
  margin-bottom: 40px;
  position: relative;
}

h2::after {
  content: "";
  width: 60px;
  height: 2px;
  background: #bfa046;
  display: block;
  margin: 15px auto 0;
}

input {
  font-size: 16px;
  padding: 8px;
  width: 120px;
  margin-bottom: 15px;
  border: 1px solid #c9b37e;
  border-radius: 4px;
}

button {
  background: linear-gradient(135deg, #bfa046, #e6c873);
  color: #fff;
  border: none;
  padding: 12px 24px;
  font-size: 16px;
  border-radius: 30px;
  cursor: pointer;
  box-shadow: 0 4px 10px rgba(0,0,0,0.15);
  transition: 0.3s;
}

button:hover {
  opacity: 0.85;
}

#result {
  margin-top: 30px;
  line-height: 1.9;
  white-space: pre-wrap;
}
</style>

</head>
<body>

<div class="container">

<h2>紫微斗数 鑑定書</h2>

<p>生まれ月</p>
<input type="number" id="birthMonth" min="1" max="12">

<p>生まれ時間（0〜23時）</p>
<input type="number" id="birthHour" min="0" max="23">

<br><br>

<button onclick="uranai()" style="padding:10px 20px; font-size:16px;">
鑑定する
</button>

<br><br>

<pre id="result" style="white-space:pre-wrap;"></pre>
<script>

const palaces = ["命宮","兄弟宮","夫妻宮","子女宮","財帛宮","疾厄宮","遷移宮","奴僕宮","官禄宮","田宅宮","福徳宮","父母宮"];

function getStarsByPalace(lifePalace) {
  if (lifePalace === "官禄宮") return "紫微星";
  if (lifePalace === "財帛宮") return "武曲星";
  if (lifePalace === "田宅宮") return "天府星";
  return "紫微星";
}

function makePaidReading(lifePalace, mainStar) {

  if (mainStar === "紫微星") {
    return `
【紫微斗数 本格鑑定書】

◆ 命宮：${lifePalace}
◆ 主星：紫微星

あなたは「王者の星」を持つ人。
自然と人の中心に立つ運命です。
`;
  }

  if (mainStar === "武曲星") {
    return `
【紫微斗数 本格鑑定書】

◆ 命宮：${lifePalace}
◆ 主星：武曲星

あなたは実行力の星。
努力が収入に直結するタイプです。
`;
  }

  if (mainStar === "天府星") {
    return `
【紫微斗数 本格鑑定書】

◆ 命宮：${lifePalace}
◆ 主星：天府星

あなたは安定と財庫の星。
積み上げ型で成功します。
`;
  }

  // 保険
  return `
鑑定結果を表示できませんでした。
もう一度お試しください。
`;
}

function uranai() {
  const birthMonth = parseInt(document.getElementById("birthMonth").value);
  const birthHour = parseInt(document.getElementById("birthHour").value);

  if (isNaN(birthMonth) || isNaN(birthHour)) {
    document.getElementById("result").innerText = "月と時間を入力してください";
    return;
  }

  const hourIndex = Math.floor(birthHour / 2);
  const monthIndex = birthMonth - 1;
  const palaceIndex = (monthIndex + hourIndex) % 12;

  const lifePalace = palaces[palaceIndex];
  const mainStar = getStarsByPalace(lifePalace);

  const reading = makePaidReading(lifePalace, mainStar);

  document.getElementById("result").innerText = reading;
}

</script>

const palaces = ["命宮","兄弟宮","夫妻宮","子女宮","財帛宮","疾厄宮","遷移宮","奴僕宮","官禄宮","田宅宮","福徳宮","父母宮"];

const starMeanings = {
  "紫微星": "統率力や責任感があり、全体を見渡して判断する力",
  "武曲星": "実行力と現実感覚に優れ、結果を形にしていく力",
  "天府星": "安定感があり、物事を堅実に積み上げていく力"
};

function getStarsByPalace(lifePalace) {
  if (lifePalace === "官禄宮") return ["紫微星"];
  if (lifePalace === "財帛宮") return ["武曲星"];
  if (lifePalace === "田宅宮") return ["天府星"];
  return ["紫微星"];
}

function makePaidReading(lifePalace, stars) {

  const mainStar = stars[0];

  if (mainStar === "紫微星") {
    return `
【紫微斗数 本格鑑定書】

◆ 命宮：${lifePalace}
◆ 主星：紫微星

【本質】
あなたは「王者の星」を持つ人。
自然と人の中心に立つ運命です。
責任ある立場で力を発揮します。

【仕事運】
組織・リーダー業・指導的立場で開花。
自分が上に立つほど運気上昇。

【金運】
地位と比例して収入が上がるタイプ。
信用＝財運。

【開運法】
遠慮をやめること。
あなたは上に立つ器です。

`;
  }

  if (mainStar === "武曲星") {
    return `
【紫微斗数 本格鑑定書】

◆ 命宮：${lifePalace}
◆ 主星：武曲星

【本質】
あなたは実行力の星。
結果を出す職人タイプです。
努力がそのまま収入に直結します。

【仕事運】
営業・数字・管理・経営に強い。
独立運もあります。

【金運】
貯める力が強い。
投資より堅実運用向き。

【開運法】
迷わず動くこと。
考えすぎると運を逃します。
`;
  }

  if (mainStar === "天府星") {
    return `
【紫微斗数 本格鑑定書】

◆ 命宮：${lifePalace}
◆ 主星：天府星

【本質】
あなたは財庫の星。
安定と蓄積の力を持ちます。
人から信頼されやすい。

【仕事運】
管理・教育・安定職向き。
長期戦で成功。

【金運】
一攫千金より堅実増加型。
晩年運が強い。

【開運法】
焦らないこと。
あなたは積み上げ型です。
`;
  }

}


function uranai() {
  const birthMonth = parseInt(document.getElementById("birthMonth").value);
  const birthHour = parseInt(document.getElementById("birthHour").value);

  if (isNaN(birthMonth) || isNaN(birthHour)) {
    document.getElementById("result").innerText = "月と時間を入力してください";
    return;
  }

  const hourIndex = Math.floor(birthHour / 2);
  const monthIndex = birthMonth - 1;
  const palaceIndex = (monthIndex + hourIndex) % 12;

  const lifePalace = palaces[palaceIndex];
  const stars = getStarsByPalace(lifePalace);

  const reading = makePaidReading(lifePalace, stars);

  document.getElementById("result").innerText = reading;
}

</script>
 
</div>
</body>
</html>
