<!DOCTYPE html>
<html lang="ja">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="UTF-8">
<title>紫微斗数占い</title>

<style>
body {
  font-family: "Hiragino Mincho ProN", serif;
  background: #ffffff;
  padding: 40px;
  margin: 0;
}

.container {
  max-width: 600px;
  margin: 40px auto;
  background: #ffffff;
  padding: 40px;
  border: 1px solid #d4c6a1;
  box-shadow: 0 8px 25px rgba(0,0,0,0.08);
}

h2 {
  text-align: center;
  font-size: 28px;
  letter-spacing: 5px;
  margin-bottom: 40px;
  position: relative;
}

h2::after {
  content: "";
  width: 60px;
  height: 2px;
  background: #bfa046;
  display: block;
  margin: 15px auto 0;
}

input {
  font-size: 16px;
  padding: 8px;
  width: 120px;
  margin-bottom: 15px;
  border: 1px solid #c9b37e;
  border-radius: 4px;
}

button {
  background: linear-gradient(135deg, #bfa046, #e6c873);
  color: #fff;
  border: none;
  padding: 12px 24px;
  font-size: 16px;
  border-radius: 30px;
  cursor: pointer;
  box-shadow: 0 4px 10px rgba(0,0,0,0.15);
  transition: 0.3s;
}

button:hover {
  opacity: 0.85;
}

#result {
  margin-top: 30px;
  line-height: 2.1;
  white-space: pre-wrap;
  font-size: 15px;
}
@media print {
  body {
    background: #ffffff;
  }
  button, input {
    display: none;
  }
  .container {
  max-width: 600px;
  margin: 60px auto;
  background: #ffffff;
  padding: 60px;
  border: 1px solid #d4c6a1;
}
}
</style>

</head>
<body>

<div class="container">

<h2>紫微斗数 鑑定書</h2>

<p>お名前</p>
<input type="text" id="clientName">

<p>生まれ年</p>
<input type="number" id="birthYear" min="1900" max="2100">

<p>生まれ月</p>
<input type="number" id="birthMonth" min="1" max="12">

<p>生まれ日</p>
<input type="number" id="birthDay" min="1" max="31">

<p>生まれ時間（0〜23時）</p>
<input type="number" id="birthHour" min="0" max="23">
<button onclick="uranai()" style="padding:10px 20px; font-size:16px;">
鑑定する
</button>

<br><br>

<pre id="result" style="white-space:pre-wrap;"></pre>
<script>
const heavenlyStems = ["甲","乙","丙","丁","戊","己","庚","辛","壬","癸"];
const earthlyBranches = ["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"];
const mainStars = [
  "紫微星",
  "天機星",
  "太陽星",
  "武曲星",
  "天同星",
  "廉貞星",
  "天府星",
  "太陰星",
  "貪狼星",
  "巨門星",
  "天相星",
  "天梁星",
  "七殺星",
  "破軍星"
];
function getYearGanZhi(year) {
  const stem = heavenlyStems[(year - 4) % 10];
  const branch = earthlyBranches[(year - 4) % 12];
  return stem + branch;
}
function getShiChen(hour) {
  return earthlyBranches[Math.floor((hour + 1) / 2) % 12];
}
function getFiveElement(stem) {
  if (["甲","乙"].includes(stem)) return "木";
  if (["丙","丁"].includes(stem)) return "火";
  if (["戊","己"].includes(stem)) return "土";
  if (["庚","辛"].includes(stem)) return "金";
  if (["壬","癸"].includes(stem)) return "水";
}
const palaces = ["命宮","兄弟宮","夫妻宮","子女宮","財帛宮","疾厄宮","遷移宮","奴僕宮","官禄宮","田宅宮","福徳宮","父母宮"];

function getStarsByPalace(lifePalace) {
  if (lifePalace === "官禄宮") return ["紫微星"];
  if (lifePalace === "財帛宮") return ["武曲星"];
  if (lifePalace === "田宅宮") return ["天府星"];
  return ["紫微星"];
}

function makePaidReading(clientName, lifePalace, stars, yearGanZhi, shiChen, fiveElement, mainStar) {

  
var today = new Date();
var dateText =today.getFullYear() + "年" +
               (today.getMonth()+1) + "月" +
               today.getDate() + "日";
var randomNum = Math.floor(1000 + Math.random() * 9000);
var readingNo = "No." + today.getFullYear() + randomNum;

  if (mainStar === "紫微星") {
  return "【紫微斗数 本格命盤鑑定書】\n\n" +
  "鑑定番号：" + readingNo + "\n" +
  "鑑定日：" + dateText + "\n\n" +
  "お名前：" + clientName + "様\n\n" +
  "◆ 命宮：" + lifePalace + "\n" +
  "◆ 主星：紫微星\n\n" +
"あなたの主星は「" + mainStar + "」です。\n\n" +
"生年干支：" + yearGanZhi + "\n" +
"生時支：" + shiChen + "\n\n" +
 "五行局：" + fiveElement + "局\n\n" + 
  "【魂の本質】\n" +
  "あなたは生まれながらにして統率力を持つ特別な星を授かっています。" +
  "紫微星は帝王の星と呼ばれ、物事を大局で見る力を持っています。" +
  "幼少期から責任感が強く、周囲の期待を背負いやすい傾向があります。" +
  "無意識のうちに人の中心に立つ役割を引き受けてきたのではないでしょうか。\n\n" +

  "【人生前半と後半の運勢傾向】\n" +
  "若年期よりも中年期以降に力を発揮します。" +
  "経験が土台となり40代以降に評価が確立されます。" +
  "晩年運は非常に強く、周囲から頼られる存在になります。\n\n" +

  "【隠れた才能】\n" +
  "調整能力と大局観に優れています。" +
  "長期視点を持つことで運気はさらに上昇します。\n\n" +

  "【人生のテーマ】\n" +
  "『責任と信頼』がテーマです。" +
  "逃げずに向き合うほど後半運は強くなります。\n\n" +

  "【仕事運】\n" +
  "組織の中で上に立つほど力を発揮します。" +
  "教育・経営・指導職に縁があります。\n\n" +

  "【成功するための具体策】\n" +
  "目標を明確に言語化すること。" +
  "役割を引き受ける勇気が成功を呼びます。\n\n" +

  "【金運】\n" +
  "地位と比例して収入が上がるタイプ。" +
  "長期型財運です。\n\n" +

  "【人間関係】\n" +
  "尊敬できる相手との縁が深いです。\n\n" +

  "【2026年の流れ】\n" +
  "2026年は飛躍と責任の年。" +
  "8月・11月がチャンス月。" +
  "3月・9月は慎重に。\n\n" +

  "【2026年開運行動】\n" +
  "西の整理整頓。" +
  "ゴールド系小物。" +
"\n※本鑑定書は紫微斗数命盤を基に作成した正式鑑定書です。\n\n" +
"\n\n――――――――――――――――\n" +
"紫微斗数鑑定士　清美\n" +
"公式鑑定書";
}
  if (mainStar === "武曲星") {
  return "【紫微斗数 本格命盤鑑定書】\n\n" +
"鑑定番号：" + readingNo + "\n" +
  "鑑定日：" + dateText + "\n\n" +
  "お名前：" + clientName + "様\n\n" +
  "◆ 命宮：" + lifePalace + "\n" +
  "◆ 主星：武曲星\n\n" +
"あなたの主星は「" + mainStar + "」です。\n\n" +
"生年干支：" + yearGanZhi + "\n" +
"生時支：" + shiChen + "\n\n" +
"五行局：" + fiveElement + "局\n\n" + 
  "【魂の本質】\n" +
  "あなたは実行と結果の星を持っています。" +
  "武曲星は財星であり、現実を動かす力を持つ実務型の星です。" +
  "感情よりも結果を重視する傾向があり、努力を積み上げることで確実に成果を出す人です。" +
  "甘えを許さない厳しさも内に秘めていますが、それは自分自身にも向けられています。\n\n" +

  "【人生のテーマ】\n" +
  "あなたの人生テーマは『自立と達成』です。" +
  "人に頼るより、自分で切り開くことで運が開きます。" +
  "困難な環境ほど闘志が燃えるタイプです。\n\n" +

  "【仕事運】\n" +
  "数字を扱う仕事、営業、管理職、金融、経営分野に強い縁があります。" +
  "評価は遅れてやってきますが、最終的には実力が認められます。" +
  "独立運もあり、努力型成功パターンです。\n\n" +

  "【金運】\n" +
  "貯蓄力が高く、堅実に増やす力があります。" +
  "投機よりも計画的運用が向いています。" +
  "浪費は少ないですが、ストレス買いに注意。\n\n" +

  "【人間関係】\n" +
  "対等で努力家の人と相性が良いです。" +
  "依存体質の相手とは疲れやすい傾向があります。\n\n" +

  "【開運法】\n" +
"迷わず行動すること。" +
"あなたは動くことで運を掴む人です。\n\n" +

"【2026年の流れ】\n" +
"2026年は挑戦と収穫の年。" +
"行動した分だけ成果が返ってきます。" +
"5月・10月は金運上昇期。" +
"2月と7月は慎重に。" +
"決断が未来を左右します。\n\n" +

"【2026年開運行動】\n" +
"北方位の掃除。" +
"黒かネイビーの財布。" +
"迷ったら動く。\n\n" +
"\n※本鑑定書は紫微斗数命盤を基に作成した正式鑑定書です。\n\n" +
"――――――――――――――――\n" +
"紫微斗数鑑定士　清美\n" +
"公式鑑定書";
}
  if (mainStar === "天府星") {
  return "【紫微斗数 本格命盤鑑定書】\n\n" +
　"鑑定番号：" + readingNo + "\n" +
  "鑑定日：" + dateText + "\n\n" +
  "お名前：" + clientName + "様\n\n" +
  "◆ 命宮：" + lifePalace + "\n" +
  "◆ 主星：天府星\n\n" +
"あなたの主星は「" + mainStar + "」です。\n\n" +
"生年干支：" + yearGanZhi + "\n" +
"生時支：" + shiChen + "\n\n" +
"五行局：" + fiveElement + "局\n\n" +  
  "【魂の本質】\n" +
  "あなたは蓄財と安定の星を持っています。" +
  "天府星は財庫の星と呼ばれ、守る力・育てる力に優れています。" +
  "一気に伸びるより、じっくり積み重ねていく人生設計型です。" +
  "人から信頼されやすく、安心感を与える存在です。\n\n" +

  "【人生のテーマ】\n" +
  "あなたの人生テーマは『安定と信頼の構築』です。" +
  "焦らず、確実に積み上げることで晩年運が強くなります。\n\n" +

  "【仕事運】\n" +
  "管理職、教育、事務、福祉、安定企業向き。" +
  "裏方でも力を発揮しますが、実は経営管理にも向いています。" +
  "長期的視点が成功の鍵です。\n\n" +

  "【金運】\n" +
  "一攫千金より堅実増加型。" +
  "貯める力と守る力が強く、老後運が安定します。" +
  "無理な投資は不向き。\n\n" +

  "【人間関係】\n" +
  "穏やかで誠実な相手と好相性。" +
  "急激な変化を好む人とは疲れやすい傾向があります。\n\n" +

  "【開運法】\n" +
"焦らないこと。" +
"あなたは時間を味方にする星です。\n\n" +

"【2026年の流れ】\n" +
"2026年は安定を築く年。" +
"大きな勝負より基盤作りが吉。" +
"4月・9月は良縁の兆し。" +
"1月と6月は無理をしないこと。\n\n" +

"【2026年開運行動】\n" +
"東南の整理整頓。" +
"ベージュや茶色の小物。" +
"長期目標を立てること。\n\n" +
"\n※本鑑定書は紫微斗数命盤を基に作成した正式鑑定書です。\n\n" +
"――――――――――――――――\n" +
"紫微斗数鑑定士　清美\n" +
"公式鑑定書";
}
  return "鑑定できませんでした。";
}
function uranai() {

  var clientName = document.getElementById("clientName").value;
  var birthYear = parseInt(document.getElementById("birthYear").value);
  var birthMonth = parseInt(document.getElementById("birthMonth").value);
  var birthDay = parseInt(document.getElementById("birthDay").value);
  var birthHour = parseInt(document.getElementById("birthHour").value);

  if (!clientName || isNaN(birthYear) || isNaN(birthMonth) || isNaN(birthDay) || isNaN(birthHour)) {
    document.getElementById("result").innerText = "すべて入力してください";
    return;
  }
var yearGanZhi = getYearGanZhi(birthYear);
var shiChen = getShiChen(birthHour);
var fiveElement = getFiveElement(yearGanZhi.charAt(0));
var baseNumber = birthMonth + earthlyBranches.indexOf(shiChen);
var palaceIndex = baseNumber % 14;
var mainStar = mainStars[palaceIndex];

  var lifePalace = palaces[palaceIndex];
  var stars = getStarsByPalace(lifePalace);

  var reading = makePaidReading(
  clientName,
  lifePalace,
  stars,
  yearGanZhi,
  shiChen,
  fiveElement,
  mainStar
);

  document.getElementById("result").innerText = reading;
}
</script>
</div>
</body>
</html>

