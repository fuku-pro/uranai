
<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title>紫微斗数占い</title>

<style>
body {
  font-family: "Hiragino Mincho ProN", serif;
  background: #f7f4ef;
  padding: 20px;
}

select, button {
  font-size: 16px;
  margin: 6px 0;
}

button {
  padding: 8px 16px;
}

#result {
  background: #fff;
  border: 1px solid #ccc;
  padding: 16px;
  margin-top: 16px;
  white-space: pre-wrap;
}
</style>

</head>
<body>

<h2>紫微斗数 簡易鑑定</h2>

<p>生まれ月</p>
<input type="number" id="birthMonth" min="1" max="12">

<p>生まれ時間（0〜23時）</p>
<input type="number" id="birthHour" min="0" max="23">

<br><br>

<button onclick="uranai()" style="padding:10px 20px; font-size:16px;">
鑑定する
</button>

<br><br>

<pre id="result" style="white-space:pre-wrap;"></pre>
<script>

const palaces = ["命宮","兄弟宮","夫妻宮","子女宮","財帛宮","疾厄宮","遷移宮","奴僕宮","官禄宮","田宅宮","福徳宮","父母宮"];

const starMeanings = {
  "紫微星": "統率力や責任感があり、全体を見渡して判断する力",
  "武曲星": "実行力と現実感覚に優れ、結果を形にしていく力",
  "天府星": "安定感があり、物事を堅実に積み上げていく力"
};

const isPaid = true;

function makePaidReading(lifePalace, stars) {
  const starSentence = stars.map(star =>
    `${star}は、${starMeanings[star]}を表します。`
  ).join("\n");

  return `
【本格鑑定】

あなたの命宮は${lifePalace}にあります。

${starSentence}

今後1年は仕事運が大きく動く時期。
行動するほど差がつきます。
`;
}

function getStarsByPalace(lifePalace) {
  if (lifePalace === "官禄宮") return ["紫微星"];
  if (lifePalace === "財帛宮") return ["武曲星"];
  if (lifePalace === "田宅宮") return ["天府星"];
  return ["紫微星"];
}

function uranai() {
  const birthMonth = parseInt(document.getElementById("birthMonth").value);
  const birthHour = parseInt(document.getElementById("birthHour").value);

  if (!birthMonth || !birthHour) {
    document.getElementById("result").innerText = "月と時間を入力してください";
    return;
  }

  const hourIndex = Math.floor(birthHour / 2);
  const monthIndex = birthMonth - 1;
  const palaceIndex = (monthIndex + hourIndex) % 12;

  const lifePalace = palaces[palaceIndex];
  const stars = getStarsByPalace(lifePalace);

  const reading = makePaidReading(lifePalace, stars);

  document.getElementById("result").innerText = reading;
}

</script>

</body>
</html>
